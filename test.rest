@baseUrl = http://localhost:3000
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjbWtlanl1dTEwMDAwOGdzYjJrcmhhejNmIiwidXNlckVtYWlsIjoidGVzdEBleGFtcGxlLmNvbSIsImlhdCI6MTc2ODQyNzMyMiwiZXhwIjoxNzY4NDMwOTIyfQ.TJQNLHq87mAD17BqMl2XhSCjW8cDZ9a-fan8ue6Jezk
@adminToken = PASTE_ADMIN_JWT_HERE

### ===============================
### AUTH
### ===============================

### Register
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "test@example.com",
  "password": "password123"
}

### Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}

### Get Me
GET {{baseUrl}}/auth/me
Authorization: Bearer {{token}}


### ===============================
### COURSES
### ===============================

### Get all courses
GET {{baseUrl}}/courses

### Get courses with filters
GET {{baseUrl}}/courses?category=Programming&level=BEGINNER&published=true

### Search courses
GET {{baseUrl}}/courses?q=javascript

### Create a course (Admin)
POST {{baseUrl}}/courses
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "title": "Introduction Ã  JavaScript",
  "description": "Bases du langage JavaScript : variables, conditions et boucles.",
  "category": "Programming",
  "level": "BEGINNER",
  "isPublished": true,
  "learningPathId": "PASTE_LEARNING_PATH_ID_HERE"
}


### ===============================
### ENROLLMENT
### ===============================

### Get my enrollments
GET {{baseUrl}}/enroll/me
Authorization: Bearer {{token}}

### Enroll in a course
POST {{baseUrl}}/enroll/PASTE_COURSE_ID_HERE
Authorization: Bearer {{token}}

### Unenroll from a course
POST {{baseUrl}}/enroll/unenroll/PASTE_COURSE_ID_HERE
Authorization: Bearer {{token}}


### ===============================
### QUIZ
### ===============================

### Get quiz for a lesson
GET {{baseUrl}}/quiz/lessons/PASTE_LESSON_ID_HERE
Authorization: Bearer {{token}}

### Create a quiz (Admin)
POST {{baseUrl}}/quiz/lessons/PASTE_LESSON_ID_HERE
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "title": "JS Basics Quiz",
  "description": "Test your knowledge of JS basics",
  "questions": [
    {
      "question": "What is 1 + 1?",
      "answers": ["1", "2", "3"],
      "correctAnswer": 1
    }
  ]
}


### ===============================
### FORUM THREADS
### ===============================

### List all forum threads for a lesson (Note: actually lists all threads in controller)
GET {{baseUrl}}/forum-treads/lessons/PASTE_LESSON_ID_HERE
Authorization: Bearer {{token}}

### Create a forum thread
POST {{baseUrl}}/forum-treads/lessons/PASTE_LESSON_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Question about JS",
  "content": "I don't understand closures",
  "courseId": "PASTE_COURSE_ID_HERE"
}

### Get a specific forum thread
GET {{baseUrl}}/forum-treads/PASTE_THREAD_ID_HERE
Authorization: Bearer {{token}}

### Update a forum thread
PUT {{baseUrl}}/forum-treads/PASTE_THREAD_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Updated Question about JS",
  "content": "I finally understand closures, but what about prototypes?"
}

### Delete a forum thread
DELETE {{baseUrl}}/forum-treads/PASTE_THREAD_ID_HERE
Authorization: Bearer {{token}}
