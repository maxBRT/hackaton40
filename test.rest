@baseUrl = http://localhost:3000/api
@adminToken = 
@baseUrl = http://localhost:3000
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjbWtlanl1dTEwMDAwOGdzYjJrcmhhejNmIiwidXNlckVtYWlsIjoidGVzdEBleGFtcGxlLmNvbSIsImlhdCI6MTc2ODQzMTA4NSwiZXhwIjoxNzY4NDM0Njg1fQ.nEXHuySP-RRbbBz6g_Zd55uKHdh6SXIe8bfVlHeJAxQ
@adminToken = PASTE_ADMIN_JWT_HERE

### ===============================
### AUTH
### ===============================

### Register
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "test@example.com",
  "password": "password123"
}

### Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}

### Get Me
GET {{baseUrl}}/auth/me
Authorization: Bearer {{token}}


### ===============================
### LEARNING PATHS
### ===============================

### Get all learning paths
GET {{baseUrl}}/paths


### ===============================
### COURSES
### ===============================

### Get all courses
GET {{baseUrl}}/courses

### Create a course (Admin)
POST {{baseUrl}}/courses
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "title": "Introduction à JavaScript",
  "description": "Bases du langage JavaScript",
  "category": "Programming",
  "level": "BEGINNER",
  "isPublished": true,
  "learningPathId": "PASTE_LEARNING_PATH_ID_HERE"
}



@baseUrl = http://localhost:3000/api
@json = application/json

# Remplis ces IDs avec de vraies valeurs
@courseId = COURSE_ID_ICI
@moduleId = MODULE_ID_ICI
@lessonId = LESSON_ID_ICI


# ===============================
# MODULES
# ===============================

### List modules
GET {{baseUrl}}/modules
Accept: {{json}}

### Create module
POST {{baseUrl}}/modules
Content-Type: {{json}}

{
  "title": "Module Test",
  "position": 1,
  "courseId": "{{courseId}}"
}

### Get module by id
GET {{baseUrl}}/modules/{{moduleId}}
Accept: {{json}}


# ===============================
# LESSONS
# ===============================

### List lessons
GET {{baseUrl}}/lessons
Accept: {{json}}

### List lessons by module
GET {{baseUrl}}/lessons?moduleId={{moduleId}}
Accept: {{json}}

### Create lesson
POST {{baseUrl}}/lessons
Content-Type: {{json}}

{
  "title": "Lesson Test",
  "content": "Contenu de la leçon",
  "moduleId": "{{moduleId}}",
  "position": 1,
  "difficulty": "BEGINNER"
}

### Get lesson by id
GET {{baseUrl}}/lessons/{{lessonId}}
Accept: {{json}}
### ===============================
### ENROLLMENT
### ===============================

### Get my enrollments
GET {{baseUrl}}/enroll/me
Authorization: Bearer {{token}}

### Enroll in a course
POST {{baseUrl}}/enroll/PASTE_COURSE_ID_HERE
Authorization: Bearer {{token}}

### Unenroll from a course
POST {{baseUrl}}/enroll/unenroll/PASTE_COURSE_ID_HERE
Authorization: Bearer {{token}}


### ===============================
### QUIZ
### ===============================

### Get quiz for a lesson
GET {{baseUrl}}/quiz/lessons/PASTE_LESSON_ID_HERE
Authorization: Bearer {{token}}

### Create a quiz
POST {{baseUrl}}/quiz/lessons/PASTE_LESSON_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "JS Basics Quiz",
  "description": "Test your knowledge",
  "questions": [
    {
      "question": "What is 1 + 1?",
      "answers": ["1", "2", "3"],
      "correctAnswer": 1
    }
  ]
}


### ===============================
### FORUM THREADS
### ===============================

### List forum threads for a course
GET {{baseUrl}}/forum-treads/courses/PASTE_COURSE_ID_HERE
Authorization: Bearer {{token}}

### Create a forum thread
POST {{baseUrl}}/forum-treads/courses/PASTE_COURSE_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Question about JS",
  "content": "I don't understand closures",
  "courseId": "PASTE_COURSE_ID_HERE"
}

### Get a specific forum thread
GET {{baseUrl}}/forum-treads/PASTE_THREAD_ID_HERE
Authorization: Bearer {{token}}

### Update a forum thread
PUT {{baseUrl}}/forum-treads/PASTE_THREAD_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Updated Question",
  "content": "Updated content"
}

### Delete a forum thread
DELETE {{baseUrl}}/forum-treads/PASTE_THREAD_ID_HERE
Authorization: Bearer {{token}}


### ===============================
### FORUM POSTS (Replies)
### ===============================

### List posts for a thread
GET {{baseUrl}}/forum-treads/PASTE_THREAD_ID_HERE/posts
Authorization: Bearer {{token}}

### Create a post in a thread
POST {{baseUrl}}/forum-treads/PASTE_THREAD_ID_HERE/posts
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "My Reply",
  "content": "Here is what I think..."
}

### Update a post
PUT {{baseUrl}}/forum-treads/posts/PASTE_POST_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Updated Reply",
  "content": "Corrected my thoughts"
}

### Delete a post
DELETE {{baseUrl}}/forum-treads/posts/PASTE_POST_ID_HERE
Authorization: Bearer {{token}}
